{"remainingRequest":"/home/yygx/Desktop/实训/项目期间/项目code/Crossborder_e-commerce_borrow-sell_platform/vuestic-admin/node_modules/babel-loader/lib/index.js!/home/yygx/Desktop/实训/项目期间/项目code/Crossborder_e-commerce_borrow-sell_platform/vuestic-admin/node_modules/vuestic-ui/src/components/vuestic-components/va-input/calculateNodeHeight.js","dependencies":[{"path":"/home/yygx/Desktop/实训/项目期间/项目code/Crossborder_e-commerce_borrow-sell_platform/vuestic-admin/node_modules/vuestic-ui/src/components/vuestic-components/va-input/calculateNodeHeight.js","mtime":499162500000},{"path":"/home/yygx/Desktop/实训/项目期间/项目code/Crossborder_e-commerce_borrow-sell_platform/vuestic-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/yygx/Desktop/实训/项目期间/项目code/Crossborder_e-commerce_borrow-sell_platform/vuestic-admin/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8gQWRvcHRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmRyZXlwb3BwL3JlYWN0LXRleHRhcmVhLWF1dG9zaXplLwp2YXIgSElEREVOX1RFWFRBUkVBX1NUWUxFID0gIlxuICBtaW4taGVpZ2h0OjAgIWltcG9ydGFudDtcbiAgbWF4LWhlaWdodDpub25lICFpbXBvcnRhbnQ7XG4gIGhlaWdodDowICFpbXBvcnRhbnQ7XG4gIHZpc2liaWxpdHk6aGlkZGVuICFpbXBvcnRhbnQ7XG4gIG92ZXJmbG93OmhpZGRlbiAhaW1wb3J0YW50O1xuICBwb3NpdGlvbjphYnNvbHV0ZSAhaW1wb3J0YW50O1xuICB6LWluZGV4Oi0xMDAwICFpbXBvcnRhbnQ7XG4gIHRvcDowICFpbXBvcnRhbnQ7XG4gIHJpZ2h0OjAgIWltcG9ydGFudFxuIjsKdmFyIFNJWklOR19TVFlMRSA9IFsnbGV0dGVyLXNwYWNpbmcnLCAnbGluZS1oZWlnaHQnLCAncGFkZGluZy10b3AnLCAncGFkZGluZy1ib3R0b20nLCAnZm9udC1mYW1pbHknLCAnZm9udC13ZWlnaHQnLCAnZm9udC1zaXplJywgJ3RleHQtcmVuZGVyaW5nJywgJ3RleHQtdHJhbnNmb3JtJywgJ3dpZHRoJywgJ3RleHQtaW5kZW50JywgJ3BhZGRpbmctbGVmdCcsICdwYWRkaW5nLXJpZ2h0JywgJ2JvcmRlci13aWR0aCcsICdib3gtc2l6aW5nJ107CnZhciBjb21wdXRlZFN0eWxlQ2FjaGUgPSB7fTsKdmFyIGhpZGRlblRleHRhcmVhOwoKZnVuY3Rpb24gY2FsY3VsYXRlTm9kZVN0eWxpbmcobm9kZSkgewogIHZhciB1c2VDYWNoZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7CiAgdmFyIG5vZGVSZWYgPSBub2RlLmdldEF0dHJpYnV0ZSgnaWQnKSB8fCBub2RlLmdldEF0dHJpYnV0ZSgnZGF0YS1yZWFjdGlkJykgfHwgbm9kZS5nZXRBdHRyaWJ1dGUoJ25hbWUnKTsKCiAgaWYgKHVzZUNhY2hlICYmIGNvbXB1dGVkU3R5bGVDYWNoZVtub2RlUmVmXSkgewogICAgcmV0dXJuIGNvbXB1dGVkU3R5bGVDYWNoZVtub2RlUmVmXTsKICB9CgogIHZhciBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKG5vZGUpOwogIHZhciBib3hTaXppbmcgPSBzdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCdib3gtc2l6aW5nJykgfHwgc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnLW1vei1ib3gtc2l6aW5nJykgfHwgc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnLXdlYmtpdC1ib3gtc2l6aW5nJyk7CiAgdmFyIHBhZGRpbmdTaXplID0gcGFyc2VGbG9hdChzdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCdwYWRkaW5nLWJvdHRvbScpKSArIHBhcnNlRmxvYXQoc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgncGFkZGluZy10b3AnKSk7CiAgdmFyIGJvcmRlclNpemUgPSBwYXJzZUZsb2F0KHN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ2JvcmRlci1ib3R0b20td2lkdGgnKSkgKyBwYXJzZUZsb2F0KHN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ2JvcmRlci10b3Atd2lkdGgnKSk7CiAgdmFyIHNpemluZ1N0eWxlID0gU0laSU5HX1NUWUxFLm1hcChmdW5jdGlvbiAobmFtZSkgewogICAgcmV0dXJuICIiLmNvbmNhdChuYW1lLCAiOiIpLmNvbmNhdChzdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKG5hbWUpKTsKICB9KS5qb2luKCc7Jyk7CiAgdmFyIG5vZGVJbmZvID0gewogICAgc2l6aW5nU3R5bGU6IHNpemluZ1N0eWxlLAogICAgcGFkZGluZ1NpemU6IHBhZGRpbmdTaXplLAogICAgYm9yZGVyU2l6ZTogYm9yZGVyU2l6ZSwKICAgIGJveFNpemluZzogYm94U2l6aW5nCiAgfTsKCiAgaWYgKHVzZUNhY2hlICYmIG5vZGVSZWYpIHsKICAgIGNvbXB1dGVkU3R5bGVDYWNoZVtub2RlUmVmXSA9IG5vZGVJbmZvOwogIH0KCiAgcmV0dXJuIG5vZGVJbmZvOwp9CgpleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjYWxjdWxhdGVOb2RlSGVpZ2h0KHVpVGV4dE5vZGUpIHsKICB2YXIgdXNlQ2FjaGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlOwogIHZhciBtaW5Sb3dzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBudWxsOwogIHZhciBtYXhSb3dzID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBudWxsOwoKICBpZiAoIWhpZGRlblRleHRhcmVhKSB7CiAgICBoaWRkZW5UZXh0YXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7CiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGhpZGRlblRleHRhcmVhKTsKICB9IC8vIEZpeCB3cmFwPSJvZmYiIGlzc3VlCiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FudC1kZXNpZ24vYW50LWRlc2lnbi9pc3N1ZXMvNjU3NwoKCiAgaWYgKHVpVGV4dE5vZGUuZ2V0QXR0cmlidXRlKCd3cmFwJykpIHsKICAgIGhpZGRlblRleHRhcmVhLnNldEF0dHJpYnV0ZSgnd3JhcCcsIHVpVGV4dE5vZGUuZ2V0QXR0cmlidXRlKCd3cmFwJykpOwogIH0gZWxzZSB7CiAgICBoaWRkZW5UZXh0YXJlYS5yZW1vdmVBdHRyaWJ1dGUoJ3dyYXAnKTsKICB9IC8vIENvcHkgYWxsIENTUyBwcm9wZXJ0aWVzIHRoYXQgaGF2ZSBhbiBpbXBhY3Qgb24gdGhlIGhlaWdodCBvZiB0aGUgY29udGVudCBpbgogIC8vIHRoZSB0ZXh0Ym94CgoKICB2YXIgX2NhbGN1bGF0ZU5vZGVTdHlsaW5nID0gY2FsY3VsYXRlTm9kZVN0eWxpbmcodWlUZXh0Tm9kZSwgdXNlQ2FjaGUpLAogICAgICBwYWRkaW5nU2l6ZSA9IF9jYWxjdWxhdGVOb2RlU3R5bGluZy5wYWRkaW5nU2l6ZSwKICAgICAgYm9yZGVyU2l6ZSA9IF9jYWxjdWxhdGVOb2RlU3R5bGluZy5ib3JkZXJTaXplLAogICAgICBib3hTaXppbmcgPSBfY2FsY3VsYXRlTm9kZVN0eWxpbmcuYm94U2l6aW5nLAogICAgICBzaXppbmdTdHlsZSA9IF9jYWxjdWxhdGVOb2RlU3R5bGluZy5zaXppbmdTdHlsZTsgLy8gTmVlZCB0byBoYXZlIHRoZSBvdmVyZmxvdyBhdHRyaWJ1dGUgdG8gaGlkZSB0aGUgc2Nyb2xsYmFyIG90aGVyd2lzZQogIC8vIHRleHQtbGluZXMgd2lsbCBub3QgY2FsY3VsYXRlZCBwcm9wZXJseSBhcyB0aGUgc2hhZG93IHdpbGwgdGVjaG5pY2FsbHkgYmUKICAvLyBuYXJyb3dlciBmb3IgY29udGVudAoKCiAgaGlkZGVuVGV4dGFyZWEuc2V0QXR0cmlidXRlKCdzdHlsZScsICIiLmNvbmNhdChzaXppbmdTdHlsZSwgIjsiKS5jb25jYXQoSElEREVOX1RFWFRBUkVBX1NUWUxFKSk7CiAgaGlkZGVuVGV4dGFyZWEudmFsdWUgPSB1aVRleHROb2RlLnZhbHVlIHx8IHVpVGV4dE5vZGUucGxhY2Vob2xkZXIgfHwgJyc7CiAgdmFyIG1pbkhlaWdodCA9IE51bWJlci5NSU5fU0FGRV9JTlRFR0VSOwogIHZhciBtYXhIZWlnaHQgPSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUjsKICB2YXIgaGVpZ2h0ID0gaGlkZGVuVGV4dGFyZWEuc2Nyb2xsSGVpZ2h0OwogIHZhciBvdmVyZmxvd1k7CgogIGlmIChib3hTaXppbmcgPT09ICdib3JkZXItYm94JykgewogICAgLy8gYm9yZGVyLWJveDogYWRkIGJvcmRlciwgc2luY2UgaGVpZ2h0ID0gY29udGVudCArIHBhZGRpbmcgKyBib3JkZXIKICAgIGhlaWdodCA9IGhlaWdodCArIGJvcmRlclNpemU7CiAgfSBlbHNlIGlmIChib3hTaXppbmcgPT09ICdjb250ZW50LWJveCcpIHsKICAgIC8vIHJlbW92ZSBwYWRkaW5nLCBzaW5jZSBoZWlnaHQgPSBjb250ZW50CiAgICBoZWlnaHQgPSBoZWlnaHQgLSBwYWRkaW5nU2l6ZTsKICB9CgogIGlmIChtaW5Sb3dzICE9PSBudWxsIHx8IG1heFJvd3MgIT09IG51bGwpIHsKICAgIC8vIG1lYXN1cmUgaGVpZ2h0IG9mIGEgdGV4dGFyZWEgd2l0aCBhIHNpbmdsZSByb3cKICAgIGhpZGRlblRleHRhcmVhLnZhbHVlID0gJyAnOwogICAgdmFyIHNpbmdsZVJvd0hlaWdodCA9IGhpZGRlblRleHRhcmVhLnNjcm9sbEhlaWdodCAtIHBhZGRpbmdTaXplOwoKICAgIGlmIChtaW5Sb3dzICE9PSBudWxsKSB7CiAgICAgIG1pbkhlaWdodCA9IHNpbmdsZVJvd0hlaWdodCAqIG1pblJvd3M7CgogICAgICBpZiAoYm94U2l6aW5nID09PSAnYm9yZGVyLWJveCcpIHsKICAgICAgICBtaW5IZWlnaHQgPSBtaW5IZWlnaHQgKyBwYWRkaW5nU2l6ZSArIGJvcmRlclNpemU7CiAgICAgIH0KCiAgICAgIGhlaWdodCA9IE1hdGgubWF4KG1pbkhlaWdodCwgaGVpZ2h0KTsKICAgIH0KCiAgICBpZiAobWF4Um93cyAhPT0gbnVsbCkgewogICAgICBtYXhIZWlnaHQgPSBzaW5nbGVSb3dIZWlnaHQgKiBtYXhSb3dzOwoKICAgICAgaWYgKGJveFNpemluZyA9PT0gJ2JvcmRlci1ib3gnKSB7CiAgICAgICAgbWF4SGVpZ2h0ID0gbWF4SGVpZ2h0ICsgcGFkZGluZ1NpemUgKyBib3JkZXJTaXplOwogICAgICB9CgogICAgICBvdmVyZmxvd1kgPSBoZWlnaHQgPiBtYXhIZWlnaHQgPyAnJyA6ICdoaWRkZW4nOwogICAgICBoZWlnaHQgPSBNYXRoLm1pbihtYXhIZWlnaHQsIGhlaWdodCk7CiAgICB9CiAgfQoKICBpZiAoIW1heFJvd3MpIHsKICAgIG92ZXJmbG93WSA9ICdoaWRkZW4nOwogIH0KCiAgcmV0dXJuIHsKICAgIGhlaWdodDogIiIuY29uY2F0KGhlaWdodCwgInB4IiksCiAgICBtaW5IZWlnaHQ6ICIiLmNvbmNhdChtaW5IZWlnaHQsICJweCIpLAogICAgbWF4SGVpZ2h0OiAiIi5jb25jYXQobWF4SGVpZ2h0LCAicHgiKSwKICAgIG92ZXJmbG93WTogb3ZlcmZsb3dZCiAgfTsKfQ=="},{"version":3,"sources":["/home/yygx/Desktop/实训/项目期间/项目code/Crossborder_e-commerce_borrow-sell_platform/vuestic-admin/node_modules/vuestic-ui/src/components/vuestic-components/va-input/calculateNodeHeight.js"],"names":["HIDDEN_TEXTAREA_STYLE","SIZING_STYLE","computedStyleCache","hiddenTextarea","calculateNodeStyling","node","useCache","nodeRef","getAttribute","style","window","getComputedStyle","boxSizing","getPropertyValue","paddingSize","parseFloat","borderSize","sizingStyle","map","name","join","nodeInfo","calculateNodeHeight","uiTextNode","minRows","maxRows","document","createElement","body","appendChild","setAttribute","removeAttribute","value","placeholder","minHeight","Number","MIN_SAFE_INTEGER","maxHeight","MAX_SAFE_INTEGER","height","scrollHeight","overflowY","singleRowHeight","Math","max","min"],"mappings":"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","sourcesContent":["// Adopted from https://github.com/andreypopp/react-textarea-autosize/\r\n\r\nconst HIDDEN_TEXTAREA_STYLE = `\r\n  min-height:0 !important;\r\n  max-height:none !important;\r\n  height:0 !important;\r\n  visibility:hidden !important;\r\n  overflow:hidden !important;\r\n  position:absolute !important;\r\n  z-index:-1000 !important;\r\n  top:0 !important;\r\n  right:0 !important\r\n`\r\n\r\nconst SIZING_STYLE = [\r\n  'letter-spacing',\r\n  'line-height',\r\n  'padding-top',\r\n  'padding-bottom',\r\n  'font-family',\r\n  'font-weight',\r\n  'font-size',\r\n  'text-rendering',\r\n  'text-transform',\r\n  'width',\r\n  'text-indent',\r\n  'padding-left',\r\n  'padding-right',\r\n  'border-width',\r\n  'box-sizing',\r\n]\r\n\r\nconst computedStyleCache = {}\r\nlet hiddenTextarea\r\n\r\nfunction calculateNodeStyling (node, useCache = false) {\r\n  const nodeRef =\r\n    node.getAttribute('id') || node.getAttribute('data-reactid') || node.getAttribute('name')\r\n\r\n  if (useCache && computedStyleCache[nodeRef]) {\r\n    return computedStyleCache[nodeRef]\r\n  }\r\n\r\n  const style = window.getComputedStyle(node)\r\n\r\n  const boxSizing =\r\n    style.getPropertyValue('box-sizing') ||\r\n    style.getPropertyValue('-moz-box-sizing') ||\r\n    style.getPropertyValue('-webkit-box-sizing')\r\n\r\n  const paddingSize =\r\n    parseFloat(style.getPropertyValue('padding-bottom')) +\r\n    parseFloat(style.getPropertyValue('padding-top'))\r\n\r\n  const borderSize =\r\n    parseFloat(style.getPropertyValue('border-bottom-width')) +\r\n    parseFloat(style.getPropertyValue('border-top-width'))\r\n\r\n  const sizingStyle = SIZING_STYLE.map(name => `${name}:${style.getPropertyValue(name)}`).join(';')\r\n\r\n  const nodeInfo = {\r\n    sizingStyle,\r\n    paddingSize,\r\n    borderSize,\r\n    boxSizing,\r\n  }\r\n\r\n  if (useCache && nodeRef) {\r\n    computedStyleCache[nodeRef] = nodeInfo\r\n  }\r\n\r\n  return nodeInfo\r\n}\r\n\r\nexport default function calculateNodeHeight (\r\n  uiTextNode,\r\n  useCache = false,\r\n  minRows = null,\r\n  maxRows = null,\r\n) {\r\n  if (!hiddenTextarea) {\r\n    hiddenTextarea = document.createElement('textarea')\r\n    document.body.appendChild(hiddenTextarea)\r\n  }\r\n\r\n  // Fix wrap=\"off\" issue\r\n  // https://github.com/ant-design/ant-design/issues/6577\r\n  if (uiTextNode.getAttribute('wrap')) {\r\n    hiddenTextarea.setAttribute('wrap', uiTextNode.getAttribute('wrap'))\r\n  } else {\r\n    hiddenTextarea.removeAttribute('wrap')\r\n  }\r\n\r\n  // Copy all CSS properties that have an impact on the height of the content in\r\n  // the textbox\r\n  const { paddingSize, borderSize, boxSizing, sizingStyle } = calculateNodeStyling(\r\n    uiTextNode,\r\n    useCache,\r\n  )\r\n\r\n  // Need to have the overflow attribute to hide the scrollbar otherwise\r\n  // text-lines will not calculated properly as the shadow will technically be\r\n  // narrower for content\r\n  hiddenTextarea.setAttribute('style', `${sizingStyle};${HIDDEN_TEXTAREA_STYLE}`)\r\n  hiddenTextarea.value = uiTextNode.value || uiTextNode.placeholder || ''\r\n\r\n  let minHeight = Number.MIN_SAFE_INTEGER\r\n  let maxHeight = Number.MAX_SAFE_INTEGER\r\n  let height = hiddenTextarea.scrollHeight\r\n  let overflowY\r\n\r\n  if (boxSizing === 'border-box') {\r\n    // border-box: add border, since height = content + padding + border\r\n    height = height + borderSize\r\n  } else if (boxSizing === 'content-box') {\r\n    // remove padding, since height = content\r\n    height = height - paddingSize\r\n  }\r\n\r\n  if (minRows !== null || maxRows !== null) {\r\n    // measure height of a textarea with a single row\r\n    hiddenTextarea.value = ' '\r\n    const singleRowHeight = hiddenTextarea.scrollHeight - paddingSize\r\n    if (minRows !== null) {\r\n      minHeight = singleRowHeight * minRows\r\n      if (boxSizing === 'border-box') {\r\n        minHeight = minHeight + paddingSize + borderSize\r\n      }\r\n      height = Math.max(minHeight, height)\r\n    }\r\n    if (maxRows !== null) {\r\n      maxHeight = singleRowHeight * maxRows\r\n      if (boxSizing === 'border-box') {\r\n        maxHeight = maxHeight + paddingSize + borderSize\r\n      }\r\n      overflowY = height > maxHeight ? '' : 'hidden'\r\n      height = Math.min(maxHeight, height)\r\n    }\r\n  }\r\n\r\n  if (!maxRows) {\r\n    overflowY = 'hidden'\r\n  }\r\n  return {\r\n    height: `${height}px`,\r\n    minHeight: `${minHeight}px`,\r\n    maxHeight: `${maxHeight}px`,\r\n    overflowY,\r\n  }\r\n}\r\n"]}]}